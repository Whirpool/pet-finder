{"config":{"phpVersion":"5.6.4-1+deb.sury.org~trusty+1","yiiVersion":"1.1.15","application":{"yii":"1.1.15","name":"My Web Application","debug":true},"php":{"version":"5.6.4-1+deb.sury.org~trusty+1","xdebug":false,"apc":false,"memcache":false}},"request":{"flashes":[],"statusCode":204,"requestHeaders":{"Host":"staytogether.ru","Connection":"keep-alive","Content-Length":"236","Pragma":"no-cache","Cache-Control":"no-cache","Accept":"application\/json, text\/plain, *\/*","Origin":"http:\/\/staytogether.ru","User-Agent":"Mozilla\/5.0 (X11; Linux x86_64) AppleWebKit\/537.36 (KHTML, like Gecko) Ubuntu Chromium\/39.0.2171.65 Chrome\/39.0.2171.65 Safari\/537.36","Content-Type":"application\/x-www-form-urlencoded","Referer":"http:\/\/staytogether.ru\/","Accept-Encoding":"gzip, deflate","Accept-Language":"ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4"},"responseHeaders":{"Content-type":"application\/json, charset=UTF-8"},"route":"pet\/search","action":"PetController::actionSearch()","actionParams":[],"SERVER":{"REDIRECT_STATUS":"200","HTTP_HOST":"staytogether.ru","HTTP_CONNECTION":"keep-alive","CONTENT_LENGTH":"236","HTTP_PRAGMA":"no-cache","HTTP_CACHE_CONTROL":"no-cache","HTTP_ACCEPT":"application\/json, text\/plain, *\/*","HTTP_ORIGIN":"http:\/\/staytogether.ru","HTTP_USER_AGENT":"Mozilla\/5.0 (X11; Linux x86_64) AppleWebKit\/537.36 (KHTML, like Gecko) Ubuntu Chromium\/39.0.2171.65 Chrome\/39.0.2171.65 Safari\/537.36","CONTENT_TYPE":"application\/x-www-form-urlencoded","HTTP_REFERER":"http:\/\/staytogether.ru\/","HTTP_ACCEPT_ENCODING":"gzip, deflate","HTTP_ACCEPT_LANGUAGE":"ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4","PATH":"\/usr\/local\/sbin:\/usr\/local\/bin:\/usr\/sbin:\/usr\/bin:\/sbin:\/bin","SERVER_SIGNATURE":"<address>Apache\/2.4.10 (Ubuntu) Server at staytogether.ru Port 80<\/address>\n","SERVER_SOFTWARE":"Apache\/2.4.10 (Ubuntu)","SERVER_NAME":"staytogether.ru","SERVER_ADDR":"127.0.0.1","SERVER_PORT":"80","REMOTE_ADDR":"127.0.0.1","DOCUMENT_ROOT":"\/var\/www\/staytogether.ru","REQUEST_SCHEME":"http","CONTEXT_PREFIX":"","CONTEXT_DOCUMENT_ROOT":"\/var\/www\/staytogether.ru","SERVER_ADMIN":"webmaster@localhost","SCRIPT_FILENAME":"\/var\/www\/staytogether.ru\/index.php","REMOTE_PORT":"50625","REDIRECT_URL":"\/api\/pet\/search","GATEWAY_INTERFACE":"CGI\/1.1","SERVER_PROTOCOL":"HTTP\/1.1","REQUEST_METHOD":"POST","QUERY_STRING":"","REQUEST_URI":"\/api\/pet\/search","SCRIPT_NAME":"\/index.php","PHP_SELF":"\/index.php","REQUEST_TIME_FLOAT":1420711613.914,"REQUEST_TIME":1420711613},"GET":[],"POST":{"{\"category\":{\"status\":1,\"pet\":1},\"data\":{\"date\":\"08-01-2015\",\"sex\":\"\u043c\u0443\u0436\u0441\u043a\u043e\u0439\",\"age\":0_1,\"breeds\":":{"\"\u041a\u043e\u0440\u043d\u0438\u0448 \u0420\u0435\u043a\u0441\",\"\u041a\u0443\u0440\u0438\u043b\u044c\u0441\u043a\u0438\u0439 \u0431\u043e\u0431\u0442\u0435\u0439\u043b\"":""}},"COOKIE":[],"FILES":[],"SESSION":[]},"log":{"messages":[["Loading \"log\" application component","trace","system.CModule",1420711613.9173],["Loading \"debug\" application component","trace","system.CModule",1420711613.9178],["Loading \"urlManager\" application component","trace","system.CModule",1420711613.9187],["Loading \"request\" application component","trace","system.CModule",1420711613.92],["Loading \"assetManager\" application component","trace","system.CModule",1420711613.9204],["Loading \"clientScript\" application component","trace","system.CModule",1420711613.9206],["Loading \"db\" application component","trace","system.CModule",1420711613.9228],["Opening DB connection","trace","system.db.CDbConnection",1420711613.9234],["Querying SQL: SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef,\n\tpg_catalog.col_description(a.attrelid, a.attnum) AS comment\nFROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\nWHERE a.attnum > 0 AND NOT a.attisdropped\n\tAND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\t\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))\nORDER BY a.attnum. Bound with :table='data_pet', :schema='public'","trace","system.db.CDbCommand",1420711613.9413],["Querying SQL: SELECT conname, consrc, contype, indkey FROM (\n\tSELECT\n\t\tconname,\n\t\tCASE WHEN contype='f' THEN\n\t\t\tpg_catalog.pg_get_constraintdef(oid)\n\t\tELSE\n\t\t\t'CHECK (' || consrc || ')'\n\t\tEND AS consrc,\n\t\tcontype,\n\t\tconrelid AS relid,\n\t\tNULL AS indkey\n\tFROM\n\t\tpg_catalog.pg_constraint\n\tWHERE\n\t\tcontype IN ('f', 'c')\n\tUNION ALL\n\tSELECT\n\t\tpc.relname,\n\t\tNULL,\n\t\tCASE WHEN indisprimary THEN\n\t\t\t\t'p'\n\t\tELSE\n\t\t\t\t'u'\n\t\tEND,\n\t\tpi.indrelid,\n\t\tindkey\n\tFROM\n\t\tpg_catalog.pg_class pc,\n\t\tpg_catalog.pg_index pi\n\tWHERE\n\t\tpc.oid=pi.indexrelid\n\t\tAND EXISTS (\n\t\t\tSELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c\n\t\t\tON (d.refclassid = c.tableoid AND d.refobjid = c.oid)\n\t\t\tWHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')\n\t)\n) AS sub\nWHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace\n\tWHERE nspname=:schema)). Bound with :table='data_pet', :schema='public'","trace","system.db.CDbCommand",1420711613.9467],["Querying SQL: SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE\n\tattrelid=(\n\t\tSELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(\n\t\t\tSELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema\n\t\t)\n\t)\n\tAND attnum IN (3). Bound with :table='data_pet', :schema='public'","trace","system.db.CDbCommand",1420711613.951],["Querying SQL: SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef,\n\tpg_catalog.col_description(a.attrelid, a.attnum) AS comment\nFROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\nWHERE a.attnum > 0 AND NOT a.attisdropped\n\tAND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\t\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))\nORDER BY a.attnum. Bound with :table='data_cat_find', :schema='public'","trace","system.db.CDbCommand",1420711613.9664],["Querying SQL: SELECT conname, consrc, contype, indkey FROM (\n\tSELECT\n\t\tconname,\n\t\tCASE WHEN contype='f' THEN\n\t\t\tpg_catalog.pg_get_constraintdef(oid)\n\t\tELSE\n\t\t\t'CHECK (' || consrc || ')'\n\t\tEND AS consrc,\n\t\tcontype,\n\t\tconrelid AS relid,\n\t\tNULL AS indkey\n\tFROM\n\t\tpg_catalog.pg_constraint\n\tWHERE\n\t\tcontype IN ('f', 'c')\n\tUNION ALL\n\tSELECT\n\t\tpc.relname,\n\t\tNULL,\n\t\tCASE WHEN indisprimary THEN\n\t\t\t\t'p'\n\t\tELSE\n\t\t\t\t'u'\n\t\tEND,\n\t\tpi.indrelid,\n\t\tindkey\n\tFROM\n\t\tpg_catalog.pg_class pc,\n\t\tpg_catalog.pg_index pi\n\tWHERE\n\t\tpc.oid=pi.indexrelid\n\t\tAND EXISTS (\n\t\t\tSELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c\n\t\t\tON (d.refclassid = c.tableoid AND d.refobjid = c.oid)\n\t\t\tWHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')\n\t)\n) AS sub\nWHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace\n\tWHERE nspname=:schema)). Bound with :table='data_cat_find', :schema='public'","trace","system.db.CDbCommand",1420711613.9838],["Querying SQL: SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE\n\tattrelid=(\n\t\tSELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(\n\t\t\tSELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema\n\t\t)\n\t)\n\tAND attnum IN (13). Bound with :table='data_cat_find', :schema='public'","trace","system.db.CDbCommand",1420711613.9877],["Querying SQL: SELECT array_to_json(array_agg(row_to_json(x)))\nFROM (SELECT t.id, t.sigma, t.sex, t.special, t.advanced, t.date, t.date_create, t.date_update, t.author,  min(fur.value) as fur, min(type_color.value) as type_color, min(eyes.value) as eyes, t.colors,  array_agg(breed.value) as breeds, pf_get_images(t.id) as images, lower(t.age) as age_min, upper(t.age) as age_max, ST_X(CAST(location as geometry)) as lat, ST_Y(CAST(location as geometry)) as lng FROM \"data_cat_find\" \"t\" join lookup_pet_fur fur on (t.fur = fur.id) join lookup_pet_eyes eyes on (t.eyes = eyes.id) join lookup_cat_type_color type_color on (t.type_color = type_color.id) join map_cat_breed map on (t.id = map.id_cat) join lookup_cat_breed breed on (map.id_breed = breed.id)  WHERE (((sex = :sex) AND (0.1 <@ age)) AND (date BETWEEN :dateStart AND :dateEnd)) AND (ST_DWithin(location, ST_GeomFromText('POINT(61.401835 55.167214999994)',4326), :radius)) GROUP BY t.id) as x\nWHERE ARRAY['\u041a\u043e\u0440\u043d\u0438\u0448 \u0420\u0435\u043a\u0441','\u041a\u0443\u0440\u0438\u043b\u044c\u0441\u043a\u0438\u0439 \u0431\u043e\u0431\u0442\u0435\u0439\u043b']::varchar[] && x.breeds. Bound with :sex='\u043c\u0443\u0436\u0441\u043a\u043e\u0439', :dateEnd='2015-01-08', :dateStart='2015-01-08', :radius=1118","trace","system.db.CDbCommand",1420711614.068],["Loading \"widgetFactory\" application component","trace","system.CModule",1420711614.5847]]},"profiling":{"memory":2308024,"time":0.67146515846252,"messages":[["begin:system.db.CDbCommand.query(SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef,\n\tpg_catalog.col_description(a.attrelid, a.attnum) AS comment\nFROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\nWHERE a.attnum > 0 AND NOT a.attisdropped\n\tAND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\t\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))\nORDER BY a.attnum. Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1420711613.9414],["end:system.db.CDbCommand.query(SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef,\n\tpg_catalog.col_description(a.attrelid, a.attnum) AS comment\nFROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\nWHERE a.attnum > 0 AND NOT a.attisdropped\n\tAND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\t\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))\nORDER BY a.attnum. Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1420711613.9464],["begin:system.db.CDbCommand.query(SELECT conname, consrc, contype, indkey FROM (\n\tSELECT\n\t\tconname,\n\t\tCASE WHEN contype='f' THEN\n\t\t\tpg_catalog.pg_get_constraintdef(oid)\n\t\tELSE\n\t\t\t'CHECK (' || consrc || ')'\n\t\tEND AS consrc,\n\t\tcontype,\n\t\tconrelid AS relid,\n\t\tNULL AS indkey\n\tFROM\n\t\tpg_catalog.pg_constraint\n\tWHERE\n\t\tcontype IN ('f', 'c')\n\tUNION ALL\n\tSELECT\n\t\tpc.relname,\n\t\tNULL,\n\t\tCASE WHEN indisprimary THEN\n\t\t\t\t'p'\n\t\tELSE\n\t\t\t\t'u'\n\t\tEND,\n\t\tpi.indrelid,\n\t\tindkey\n\tFROM\n\t\tpg_catalog.pg_class pc,\n\t\tpg_catalog.pg_index pi\n\tWHERE\n\t\tpc.oid=pi.indexrelid\n\t\tAND EXISTS (\n\t\t\tSELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c\n\t\t\tON (d.refclassid = c.tableoid AND d.refobjid = c.oid)\n\t\t\tWHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')\n\t)\n) AS sub\nWHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace\n\tWHERE nspname=:schema)). Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1420711613.9467],["end:system.db.CDbCommand.query(SELECT conname, consrc, contype, indkey FROM (\n\tSELECT\n\t\tconname,\n\t\tCASE WHEN contype='f' THEN\n\t\t\tpg_catalog.pg_get_constraintdef(oid)\n\t\tELSE\n\t\t\t'CHECK (' || consrc || ')'\n\t\tEND AS consrc,\n\t\tcontype,\n\t\tconrelid AS relid,\n\t\tNULL AS indkey\n\tFROM\n\t\tpg_catalog.pg_constraint\n\tWHERE\n\t\tcontype IN ('f', 'c')\n\tUNION ALL\n\tSELECT\n\t\tpc.relname,\n\t\tNULL,\n\t\tCASE WHEN indisprimary THEN\n\t\t\t\t'p'\n\t\tELSE\n\t\t\t\t'u'\n\t\tEND,\n\t\tpi.indrelid,\n\t\tindkey\n\tFROM\n\t\tpg_catalog.pg_class pc,\n\t\tpg_catalog.pg_index pi\n\tWHERE\n\t\tpc.oid=pi.indexrelid\n\t\tAND EXISTS (\n\t\t\tSELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c\n\t\t\tON (d.refclassid = c.tableoid AND d.refobjid = c.oid)\n\t\t\tWHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')\n\t)\n) AS sub\nWHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace\n\tWHERE nspname=:schema)). Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1420711613.9507],["begin:system.db.CDbCommand.query(SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE\n\tattrelid=(\n\t\tSELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(\n\t\t\tSELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema\n\t\t)\n\t)\n\tAND attnum IN (3). Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1420711613.951],["end:system.db.CDbCommand.query(SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE\n\tattrelid=(\n\t\tSELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(\n\t\t\tSELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema\n\t\t)\n\t)\n\tAND attnum IN (3). Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1420711613.9517],["begin:system.db.CDbCommand.query(SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef,\n\tpg_catalog.col_description(a.attrelid, a.attnum) AS comment\nFROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\nWHERE a.attnum > 0 AND NOT a.attisdropped\n\tAND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\t\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))\nORDER BY a.attnum. Bound with :table='data_cat_find', :schema='public')","profile","system.db.CDbCommand.query",1420711613.9664],["end:system.db.CDbCommand.query(SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef,\n\tpg_catalog.col_description(a.attrelid, a.attnum) AS comment\nFROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\nWHERE a.attnum > 0 AND NOT a.attisdropped\n\tAND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\t\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))\nORDER BY a.attnum. Bound with :table='data_cat_find', :schema='public')","profile","system.db.CDbCommand.query",1420711613.983],["begin:system.db.CDbCommand.query(SELECT conname, consrc, contype, indkey FROM (\n\tSELECT\n\t\tconname,\n\t\tCASE WHEN contype='f' THEN\n\t\t\tpg_catalog.pg_get_constraintdef(oid)\n\t\tELSE\n\t\t\t'CHECK (' || consrc || ')'\n\t\tEND AS consrc,\n\t\tcontype,\n\t\tconrelid AS relid,\n\t\tNULL AS indkey\n\tFROM\n\t\tpg_catalog.pg_constraint\n\tWHERE\n\t\tcontype IN ('f', 'c')\n\tUNION ALL\n\tSELECT\n\t\tpc.relname,\n\t\tNULL,\n\t\tCASE WHEN indisprimary THEN\n\t\t\t\t'p'\n\t\tELSE\n\t\t\t\t'u'\n\t\tEND,\n\t\tpi.indrelid,\n\t\tindkey\n\tFROM\n\t\tpg_catalog.pg_class pc,\n\t\tpg_catalog.pg_index pi\n\tWHERE\n\t\tpc.oid=pi.indexrelid\n\t\tAND EXISTS (\n\t\t\tSELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c\n\t\t\tON (d.refclassid = c.tableoid AND d.refobjid = c.oid)\n\t\t\tWHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')\n\t)\n) AS sub\nWHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace\n\tWHERE nspname=:schema)). Bound with :table='data_cat_find', :schema='public')","profile","system.db.CDbCommand.query",1420711613.9838],["end:system.db.CDbCommand.query(SELECT conname, consrc, contype, indkey FROM (\n\tSELECT\n\t\tconname,\n\t\tCASE WHEN contype='f' THEN\n\t\t\tpg_catalog.pg_get_constraintdef(oid)\n\t\tELSE\n\t\t\t'CHECK (' || consrc || ')'\n\t\tEND AS consrc,\n\t\tcontype,\n\t\tconrelid AS relid,\n\t\tNULL AS indkey\n\tFROM\n\t\tpg_catalog.pg_constraint\n\tWHERE\n\t\tcontype IN ('f', 'c')\n\tUNION ALL\n\tSELECT\n\t\tpc.relname,\n\t\tNULL,\n\t\tCASE WHEN indisprimary THEN\n\t\t\t\t'p'\n\t\tELSE\n\t\t\t\t'u'\n\t\tEND,\n\t\tpi.indrelid,\n\t\tindkey\n\tFROM\n\t\tpg_catalog.pg_class pc,\n\t\tpg_catalog.pg_index pi\n\tWHERE\n\t\tpc.oid=pi.indexrelid\n\t\tAND EXISTS (\n\t\t\tSELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c\n\t\t\tON (d.refclassid = c.tableoid AND d.refobjid = c.oid)\n\t\t\tWHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')\n\t)\n) AS sub\nWHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace\n\tWHERE nspname=:schema)). Bound with :table='data_cat_find', :schema='public')","profile","system.db.CDbCommand.query",1420711613.9875],["begin:system.db.CDbCommand.query(SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE\n\tattrelid=(\n\t\tSELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(\n\t\t\tSELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema\n\t\t)\n\t)\n\tAND attnum IN (13). Bound with :table='data_cat_find', :schema='public')","profile","system.db.CDbCommand.query",1420711613.9877],["end:system.db.CDbCommand.query(SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE\n\tattrelid=(\n\t\tSELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(\n\t\t\tSELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema\n\t\t)\n\t)\n\tAND attnum IN (13). Bound with :table='data_cat_find', :schema='public')","profile","system.db.CDbCommand.query",1420711613.9885],["begin:system.db.CDbCommand.query(SELECT array_to_json(array_agg(row_to_json(x)))\nFROM (SELECT t.id, t.sigma, t.sex, t.special, t.advanced, t.date, t.date_create, t.date_update, t.author,  min(fur.value) as fur, min(type_color.value) as type_color, min(eyes.value) as eyes, t.colors,  array_agg(breed.value) as breeds, pf_get_images(t.id) as images, lower(t.age) as age_min, upper(t.age) as age_max, ST_X(CAST(location as geometry)) as lat, ST_Y(CAST(location as geometry)) as lng FROM \"data_cat_find\" \"t\" join lookup_pet_fur fur on (t.fur = fur.id) join lookup_pet_eyes eyes on (t.eyes = eyes.id) join lookup_cat_type_color type_color on (t.type_color = type_color.id) join map_cat_breed map on (t.id = map.id_cat) join lookup_cat_breed breed on (map.id_breed = breed.id)  WHERE (((sex = :sex) AND (0.1 <@ age)) AND (date BETWEEN :dateStart AND :dateEnd)) AND (ST_DWithin(location, ST_GeomFromText('POINT(61.401835 55.167214999994)',4326), :radius)) GROUP BY t.id) as x\nWHERE ARRAY['\u041a\u043e\u0440\u043d\u0438\u0448 \u0420\u0435\u043a\u0441','\u041a\u0443\u0440\u0438\u043b\u044c\u0441\u043a\u0438\u0439 \u0431\u043e\u0431\u0442\u0435\u0439\u043b']::varchar[] && x.breeds. Bound with :sex='\u043c\u0443\u0436\u0441\u043a\u043e\u0439', :dateEnd='2015-01-08', :dateStart='2015-01-08', :radius=1118)","profile","system.db.CDbCommand.query",1420711614.068],["end:system.db.CDbCommand.query(SELECT array_to_json(array_agg(row_to_json(x)))\nFROM (SELECT t.id, t.sigma, t.sex, t.special, t.advanced, t.date, t.date_create, t.date_update, t.author,  min(fur.value) as fur, min(type_color.value) as type_color, min(eyes.value) as eyes, t.colors,  array_agg(breed.value) as breeds, pf_get_images(t.id) as images, lower(t.age) as age_min, upper(t.age) as age_max, ST_X(CAST(location as geometry)) as lat, ST_Y(CAST(location as geometry)) as lng FROM \"data_cat_find\" \"t\" join lookup_pet_fur fur on (t.fur = fur.id) join lookup_pet_eyes eyes on (t.eyes = eyes.id) join lookup_cat_type_color type_color on (t.type_color = type_color.id) join map_cat_breed map on (t.id = map.id_cat) join lookup_cat_breed breed on (map.id_breed = breed.id)  WHERE (((sex = :sex) AND (0.1 <@ age)) AND (date BETWEEN :dateStart AND :dateEnd)) AND (ST_DWithin(location, ST_GeomFromText('POINT(61.401835 55.167214999994)',4326), :radius)) GROUP BY t.id) as x\nWHERE ARRAY['\u041a\u043e\u0440\u043d\u0438\u0448 \u0420\u0435\u043a\u0441','\u041a\u0443\u0440\u0438\u043b\u044c\u0441\u043a\u0438\u0439 \u0431\u043e\u0431\u0442\u0435\u0439\u043b']::varchar[] && x.breeds. Bound with :sex='\u043c\u0443\u0436\u0441\u043a\u043e\u0439', :dateEnd='2015-01-08', :dateStart='2015-01-08', :radius=1118)","profile","system.db.CDbCommand.query",1420711614.5845]]},"db":{"messages":[["begin:system.db.CDbCommand.query(SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef,\n\tpg_catalog.col_description(a.attrelid, a.attnum) AS comment\nFROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\nWHERE a.attnum > 0 AND NOT a.attisdropped\n\tAND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\t\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))\nORDER BY a.attnum. Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1420711613.9414],["end:system.db.CDbCommand.query(SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef,\n\tpg_catalog.col_description(a.attrelid, a.attnum) AS comment\nFROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\nWHERE a.attnum > 0 AND NOT a.attisdropped\n\tAND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\t\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))\nORDER BY a.attnum. Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1420711613.9464],["begin:system.db.CDbCommand.query(SELECT conname, consrc, contype, indkey FROM (\n\tSELECT\n\t\tconname,\n\t\tCASE WHEN contype='f' THEN\n\t\t\tpg_catalog.pg_get_constraintdef(oid)\n\t\tELSE\n\t\t\t'CHECK (' || consrc || ')'\n\t\tEND AS consrc,\n\t\tcontype,\n\t\tconrelid AS relid,\n\t\tNULL AS indkey\n\tFROM\n\t\tpg_catalog.pg_constraint\n\tWHERE\n\t\tcontype IN ('f', 'c')\n\tUNION ALL\n\tSELECT\n\t\tpc.relname,\n\t\tNULL,\n\t\tCASE WHEN indisprimary THEN\n\t\t\t\t'p'\n\t\tELSE\n\t\t\t\t'u'\n\t\tEND,\n\t\tpi.indrelid,\n\t\tindkey\n\tFROM\n\t\tpg_catalog.pg_class pc,\n\t\tpg_catalog.pg_index pi\n\tWHERE\n\t\tpc.oid=pi.indexrelid\n\t\tAND EXISTS (\n\t\t\tSELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c\n\t\t\tON (d.refclassid = c.tableoid AND d.refobjid = c.oid)\n\t\t\tWHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')\n\t)\n) AS sub\nWHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace\n\tWHERE nspname=:schema)). Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1420711613.9467],["end:system.db.CDbCommand.query(SELECT conname, consrc, contype, indkey FROM (\n\tSELECT\n\t\tconname,\n\t\tCASE WHEN contype='f' THEN\n\t\t\tpg_catalog.pg_get_constraintdef(oid)\n\t\tELSE\n\t\t\t'CHECK (' || consrc || ')'\n\t\tEND AS consrc,\n\t\tcontype,\n\t\tconrelid AS relid,\n\t\tNULL AS indkey\n\tFROM\n\t\tpg_catalog.pg_constraint\n\tWHERE\n\t\tcontype IN ('f', 'c')\n\tUNION ALL\n\tSELECT\n\t\tpc.relname,\n\t\tNULL,\n\t\tCASE WHEN indisprimary THEN\n\t\t\t\t'p'\n\t\tELSE\n\t\t\t\t'u'\n\t\tEND,\n\t\tpi.indrelid,\n\t\tindkey\n\tFROM\n\t\tpg_catalog.pg_class pc,\n\t\tpg_catalog.pg_index pi\n\tWHERE\n\t\tpc.oid=pi.indexrelid\n\t\tAND EXISTS (\n\t\t\tSELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c\n\t\t\tON (d.refclassid = c.tableoid AND d.refobjid = c.oid)\n\t\t\tWHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')\n\t)\n) AS sub\nWHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace\n\tWHERE nspname=:schema)). Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1420711613.9507],["begin:system.db.CDbCommand.query(SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE\n\tattrelid=(\n\t\tSELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(\n\t\t\tSELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema\n\t\t)\n\t)\n\tAND attnum IN (3). Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1420711613.951],["end:system.db.CDbCommand.query(SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE\n\tattrelid=(\n\t\tSELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(\n\t\t\tSELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema\n\t\t)\n\t)\n\tAND attnum IN (3). Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1420711613.9517],["begin:system.db.CDbCommand.query(SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef,\n\tpg_catalog.col_description(a.attrelid, a.attnum) AS comment\nFROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\nWHERE a.attnum > 0 AND NOT a.attisdropped\n\tAND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\t\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))\nORDER BY a.attnum. Bound with :table='data_cat_find', :schema='public')","profile","system.db.CDbCommand.query",1420711613.9664],["end:system.db.CDbCommand.query(SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef,\n\tpg_catalog.col_description(a.attrelid, a.attnum) AS comment\nFROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\nWHERE a.attnum > 0 AND NOT a.attisdropped\n\tAND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\t\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))\nORDER BY a.attnum. Bound with :table='data_cat_find', :schema='public')","profile","system.db.CDbCommand.query",1420711613.983],["begin:system.db.CDbCommand.query(SELECT conname, consrc, contype, indkey FROM (\n\tSELECT\n\t\tconname,\n\t\tCASE WHEN contype='f' THEN\n\t\t\tpg_catalog.pg_get_constraintdef(oid)\n\t\tELSE\n\t\t\t'CHECK (' || consrc || ')'\n\t\tEND AS consrc,\n\t\tcontype,\n\t\tconrelid AS relid,\n\t\tNULL AS indkey\n\tFROM\n\t\tpg_catalog.pg_constraint\n\tWHERE\n\t\tcontype IN ('f', 'c')\n\tUNION ALL\n\tSELECT\n\t\tpc.relname,\n\t\tNULL,\n\t\tCASE WHEN indisprimary THEN\n\t\t\t\t'p'\n\t\tELSE\n\t\t\t\t'u'\n\t\tEND,\n\t\tpi.indrelid,\n\t\tindkey\n\tFROM\n\t\tpg_catalog.pg_class pc,\n\t\tpg_catalog.pg_index pi\n\tWHERE\n\t\tpc.oid=pi.indexrelid\n\t\tAND EXISTS (\n\t\t\tSELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c\n\t\t\tON (d.refclassid = c.tableoid AND d.refobjid = c.oid)\n\t\t\tWHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')\n\t)\n) AS sub\nWHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace\n\tWHERE nspname=:schema)). Bound with :table='data_cat_find', :schema='public')","profile","system.db.CDbCommand.query",1420711613.9838],["end:system.db.CDbCommand.query(SELECT conname, consrc, contype, indkey FROM (\n\tSELECT\n\t\tconname,\n\t\tCASE WHEN contype='f' THEN\n\t\t\tpg_catalog.pg_get_constraintdef(oid)\n\t\tELSE\n\t\t\t'CHECK (' || consrc || ')'\n\t\tEND AS consrc,\n\t\tcontype,\n\t\tconrelid AS relid,\n\t\tNULL AS indkey\n\tFROM\n\t\tpg_catalog.pg_constraint\n\tWHERE\n\t\tcontype IN ('f', 'c')\n\tUNION ALL\n\tSELECT\n\t\tpc.relname,\n\t\tNULL,\n\t\tCASE WHEN indisprimary THEN\n\t\t\t\t'p'\n\t\tELSE\n\t\t\t\t'u'\n\t\tEND,\n\t\tpi.indrelid,\n\t\tindkey\n\tFROM\n\t\tpg_catalog.pg_class pc,\n\t\tpg_catalog.pg_index pi\n\tWHERE\n\t\tpc.oid=pi.indexrelid\n\t\tAND EXISTS (\n\t\t\tSELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c\n\t\t\tON (d.refclassid = c.tableoid AND d.refobjid = c.oid)\n\t\t\tWHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')\n\t)\n) AS sub\nWHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace\n\tWHERE nspname=:schema)). Bound with :table='data_cat_find', :schema='public')","profile","system.db.CDbCommand.query",1420711613.9875],["begin:system.db.CDbCommand.query(SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE\n\tattrelid=(\n\t\tSELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(\n\t\t\tSELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema\n\t\t)\n\t)\n\tAND attnum IN (13). Bound with :table='data_cat_find', :schema='public')","profile","system.db.CDbCommand.query",1420711613.9877],["end:system.db.CDbCommand.query(SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE\n\tattrelid=(\n\t\tSELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(\n\t\t\tSELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema\n\t\t)\n\t)\n\tAND attnum IN (13). Bound with :table='data_cat_find', :schema='public')","profile","system.db.CDbCommand.query",1420711613.9885],["begin:system.db.CDbCommand.query(SELECT array_to_json(array_agg(row_to_json(x)))\nFROM (SELECT t.id, t.sigma, t.sex, t.special, t.advanced, t.date, t.date_create, t.date_update, t.author,  min(fur.value) as fur, min(type_color.value) as type_color, min(eyes.value) as eyes, t.colors,  array_agg(breed.value) as breeds, pf_get_images(t.id) as images, lower(t.age) as age_min, upper(t.age) as age_max, ST_X(CAST(location as geometry)) as lat, ST_Y(CAST(location as geometry)) as lng FROM \"data_cat_find\" \"t\" join lookup_pet_fur fur on (t.fur = fur.id) join lookup_pet_eyes eyes on (t.eyes = eyes.id) join lookup_cat_type_color type_color on (t.type_color = type_color.id) join map_cat_breed map on (t.id = map.id_cat) join lookup_cat_breed breed on (map.id_breed = breed.id)  WHERE (((sex = :sex) AND (0.1 <@ age)) AND (date BETWEEN :dateStart AND :dateEnd)) AND (ST_DWithin(location, ST_GeomFromText('POINT(61.401835 55.167214999994)',4326), :radius)) GROUP BY t.id) as x\nWHERE ARRAY['\u041a\u043e\u0440\u043d\u0438\u0448 \u0420\u0435\u043a\u0441','\u041a\u0443\u0440\u0438\u043b\u044c\u0441\u043a\u0438\u0439 \u0431\u043e\u0431\u0442\u0435\u0439\u043b']::varchar[] && x.breeds. Bound with :sex='\u043c\u0443\u0436\u0441\u043a\u043e\u0439', :dateEnd='2015-01-08', :dateStart='2015-01-08', :radius=1118)","profile","system.db.CDbCommand.query",1420711614.068],["end:system.db.CDbCommand.query(SELECT array_to_json(array_agg(row_to_json(x)))\nFROM (SELECT t.id, t.sigma, t.sex, t.special, t.advanced, t.date, t.date_create, t.date_update, t.author,  min(fur.value) as fur, min(type_color.value) as type_color, min(eyes.value) as eyes, t.colors,  array_agg(breed.value) as breeds, pf_get_images(t.id) as images, lower(t.age) as age_min, upper(t.age) as age_max, ST_X(CAST(location as geometry)) as lat, ST_Y(CAST(location as geometry)) as lng FROM \"data_cat_find\" \"t\" join lookup_pet_fur fur on (t.fur = fur.id) join lookup_pet_eyes eyes on (t.eyes = eyes.id) join lookup_cat_type_color type_color on (t.type_color = type_color.id) join map_cat_breed map on (t.id = map.id_cat) join lookup_cat_breed breed on (map.id_breed = breed.id)  WHERE (((sex = :sex) AND (0.1 <@ age)) AND (date BETWEEN :dateStart AND :dateEnd)) AND (ST_DWithin(location, ST_GeomFromText('POINT(61.401835 55.167214999994)',4326), :radius)) GROUP BY t.id) as x\nWHERE ARRAY['\u041a\u043e\u0440\u043d\u0438\u0448 \u0420\u0435\u043a\u0441','\u041a\u0443\u0440\u0438\u043b\u044c\u0441\u043a\u0438\u0439 \u0431\u043e\u0431\u0442\u0435\u0439\u043b']::varchar[] && x.breeds. Bound with :sex='\u043c\u0443\u0436\u0441\u043a\u043e\u0439', :dateEnd='2015-01-08', :dateStart='2015-01-08', :radius=1118)","profile","system.db.CDbCommand.query",1420711614.5845]],"connections":{"db":{"class":"CDbConnection","driver":"pgsql","server":"9.3.5","info":"PID: 5732; Client Encoding: UTF8; Is Superuser: on; Session Authorization: whirpl; Date Style: ISO, DMY"}}},"summary":{"tag":"54ae56bde0265","url":"http:\/\/staytogether.ru\/api\/pet\/search","ajax":false,"method":"POST","code":204,"ip":"127.0.0.1","time":1420711614}}