{"config":{"phpVersion":"5.6.4-1+deb.sury.org~trusty+1","yiiVersion":"1.1.15","application":{"yii":"1.1.15","name":"My Web Application","debug":true},"php":{"version":"5.6.4-1+deb.sury.org~trusty+1","xdebug":false,"apc":false,"memcache":false}},"request":{"flashes":[],"statusCode":200,"requestHeaders":{"Host":"staytogether.ru","Connection":"keep-alive","Accept":"application\/json, text\/plain, *\/*","User-Agent":"Mozilla\/5.0 (X11; Linux x86_64) AppleWebKit\/537.36 (KHTML, like Gecko) Ubuntu Chromium\/39.0.2171.65 Chrome\/39.0.2171.65 Safari\/537.36","Referer":"http:\/\/staytogether.ru\/","Accept-Encoding":"gzip, deflate, sdch","Accept-Language":"ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4","Cookie":"PHPSESSID=jlq3cjb6kfa0u2tlirn9pa87a0"},"responseHeaders":{"Content-type":"application\/json, charset=UTF-8"},"route":"pet\/search","action":"PetController::actionSearch()","actionParams":{"ageMax":"1.7","ageMin":"0.2","date":"12-01-2015","lat":"61.40382925699803","lng":"55.15418411175584","pet":"2","radius":"1119","sex":"\u043c\u0443\u0436\u0441\u043a\u043e\u0439","status":"2"},"SERVER":{"REDIRECT_STATUS":"200","HTTP_HOST":"staytogether.ru","HTTP_CONNECTION":"keep-alive","HTTP_ACCEPT":"application\/json, text\/plain, *\/*","HTTP_USER_AGENT":"Mozilla\/5.0 (X11; Linux x86_64) AppleWebKit\/537.36 (KHTML, like Gecko) Ubuntu Chromium\/39.0.2171.65 Chrome\/39.0.2171.65 Safari\/537.36","HTTP_REFERER":"http:\/\/staytogether.ru\/","HTTP_ACCEPT_ENCODING":"gzip, deflate, sdch","HTTP_ACCEPT_LANGUAGE":"ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4","HTTP_COOKIE":"PHPSESSID=jlq3cjb6kfa0u2tlirn9pa87a0","PATH":"\/usr\/local\/sbin:\/usr\/local\/bin:\/usr\/sbin:\/usr\/bin:\/sbin:\/bin","SERVER_SIGNATURE":"<address>Apache\/2.4.10 (Ubuntu) Server at staytogether.ru Port 80<\/address>\n","SERVER_SOFTWARE":"Apache\/2.4.10 (Ubuntu)","SERVER_NAME":"staytogether.ru","SERVER_ADDR":"127.0.0.1","SERVER_PORT":"80","REMOTE_ADDR":"127.0.0.1","DOCUMENT_ROOT":"\/var\/www\/staytogether.ru","REQUEST_SCHEME":"http","CONTEXT_PREFIX":"","CONTEXT_DOCUMENT_ROOT":"\/var\/www\/staytogether.ru","SERVER_ADMIN":"webmaster@localhost","SCRIPT_FILENAME":"\/var\/www\/staytogether.ru\/index.php","REMOTE_PORT":"40507","REDIRECT_QUERY_STRING":"ageMax=1.7&ageMin=0.2&date=12-01-2015&lat=61.40382925699803&lng=55.15418411175584&pet=2&radius=1119&sex=%D0%BC%D1%83%D0%B6%D1%81%D0%BA%D0%BE%D0%B9&status=2","REDIRECT_URL":"\/api\/pet\/search","GATEWAY_INTERFACE":"CGI\/1.1","SERVER_PROTOCOL":"HTTP\/1.1","REQUEST_METHOD":"GET","QUERY_STRING":"ageMax=1.7&ageMin=0.2&date=12-01-2015&lat=61.40382925699803&lng=55.15418411175584&pet=2&radius=1119&sex=%D0%BC%D1%83%D0%B6%D1%81%D0%BA%D0%BE%D0%B9&status=2","REQUEST_URI":"\/api\/pet\/search?ageMax=1.7&ageMin=0.2&date=12-01-2015&lat=61.40382925699803&lng=55.15418411175584&pet=2&radius=1119&sex=%D0%BC%D1%83%D0%B6%D1%81%D0%BA%D0%BE%D0%B9&status=2","SCRIPT_NAME":"\/index.php","PHP_SELF":"\/index.php","REQUEST_TIME_FLOAT":1421071421.8,"REQUEST_TIME":1421071421},"GET":{"ageMax":"1.7","ageMin":"0.2","date":"12-01-2015","lat":"61.40382925699803","lng":"55.15418411175584","pet":"2","radius":"1119","sex":"\u043c\u0443\u0436\u0441\u043a\u043e\u0439","status":"2"},"POST":[],"COOKIE":{"PHPSESSID":"jlq3cjb6kfa0u2tlirn9pa87a0"},"FILES":[],"SESSION":[]},"log":{"messages":[["Loading \"log\" application component","trace","system.CModule",1421071421.8018],["Loading \"debug\" application component","trace","system.CModule",1421071421.802],["Loading \"urlManager\" application component","trace","system.CModule",1421071421.8025],["Loading \"request\" application component","trace","system.CModule",1421071421.8035],["Loading \"assetManager\" application component","trace","system.CModule",1421071421.8036],["Loading \"clientScript\" application component","trace","system.CModule",1421071421.8039],["Loading \"db\" application component","trace","system.CModule",1421071421.805],["Opening DB connection","trace","system.db.CDbConnection",1421071421.8051],["Querying SQL: SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef,\n\tpg_catalog.col_description(a.attrelid, a.attnum) AS comment\nFROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\nWHERE a.attnum > 0 AND NOT a.attisdropped\n\tAND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\t\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))\nORDER BY a.attnum. Bound with :table='data_pet', :schema='public'","trace","system.db.CDbCommand",1421071421.82],["Querying SQL: SELECT conname, consrc, contype, indkey FROM (\n\tSELECT\n\t\tconname,\n\t\tCASE WHEN contype='f' THEN\n\t\t\tpg_catalog.pg_get_constraintdef(oid)\n\t\tELSE\n\t\t\t'CHECK (' || consrc || ')'\n\t\tEND AS consrc,\n\t\tcontype,\n\t\tconrelid AS relid,\n\t\tNULL AS indkey\n\tFROM\n\t\tpg_catalog.pg_constraint\n\tWHERE\n\t\tcontype IN ('f', 'c')\n\tUNION ALL\n\tSELECT\n\t\tpc.relname,\n\t\tNULL,\n\t\tCASE WHEN indisprimary THEN\n\t\t\t\t'p'\n\t\tELSE\n\t\t\t\t'u'\n\t\tEND,\n\t\tpi.indrelid,\n\t\tindkey\n\tFROM\n\t\tpg_catalog.pg_class pc,\n\t\tpg_catalog.pg_index pi\n\tWHERE\n\t\tpc.oid=pi.indexrelid\n\t\tAND EXISTS (\n\t\t\tSELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c\n\t\t\tON (d.refclassid = c.tableoid AND d.refobjid = c.oid)\n\t\t\tWHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')\n\t)\n) AS sub\nWHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace\n\tWHERE nspname=:schema)). Bound with :table='data_pet', :schema='public'","trace","system.db.CDbCommand",1421071421.8291],["Querying SQL: SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE\n\tattrelid=(\n\t\tSELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(\n\t\t\tSELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema\n\t\t)\n\t)\n\tAND attnum IN (3). Bound with :table='data_pet', :schema='public'","trace","system.db.CDbCommand",1421071421.8329],["Querying SQL: SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef,\n\tpg_catalog.col_description(a.attrelid, a.attnum) AS comment\nFROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\nWHERE a.attnum > 0 AND NOT a.attisdropped\n\tAND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\t\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))\nORDER BY a.attnum. Bound with :table='data_dog_lost', :schema='public'","trace","system.db.CDbCommand",1421071421.834],["Querying SQL: SELECT conname, consrc, contype, indkey FROM (\n\tSELECT\n\t\tconname,\n\t\tCASE WHEN contype='f' THEN\n\t\t\tpg_catalog.pg_get_constraintdef(oid)\n\t\tELSE\n\t\t\t'CHECK (' || consrc || ')'\n\t\tEND AS consrc,\n\t\tcontype,\n\t\tconrelid AS relid,\n\t\tNULL AS indkey\n\tFROM\n\t\tpg_catalog.pg_constraint\n\tWHERE\n\t\tcontype IN ('f', 'c')\n\tUNION ALL\n\tSELECT\n\t\tpc.relname,\n\t\tNULL,\n\t\tCASE WHEN indisprimary THEN\n\t\t\t\t'p'\n\t\tELSE\n\t\t\t\t'u'\n\t\tEND,\n\t\tpi.indrelid,\n\t\tindkey\n\tFROM\n\t\tpg_catalog.pg_class pc,\n\t\tpg_catalog.pg_index pi\n\tWHERE\n\t\tpc.oid=pi.indexrelid\n\t\tAND EXISTS (\n\t\t\tSELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c\n\t\t\tON (d.refclassid = c.tableoid AND d.refobjid = c.oid)\n\t\t\tWHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')\n\t)\n) AS sub\nWHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace\n\tWHERE nspname=:schema)). Bound with :table='data_dog_lost', :schema='public'","trace","system.db.CDbCommand",1421071421.8361],["Querying SQL: SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE\n\tattrelid=(\n\t\tSELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(\n\t\t\tSELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema\n\t\t)\n\t)\n\tAND attnum IN (13). Bound with :table='data_dog_lost', :schema='public'","trace","system.db.CDbCommand",1421071421.8389],["Querying SQL: SELECT array_to_json(array_agg(row_to_json(x)))\nFROM (SELECT t.id, t.sigma, t.sex, t.special, t.advanced, t.date, t.date_create, t.date_update, t.author,  min(fur.value) as fur, min(type_color.value) as type_color, min(eyes.value) as eyes, t.colors,  array_agg(breed.value) as breeds, pf_get_images(t.id) as images, min(figured.value) as figured, t.name, t.age, ST_X(CAST(location as geometry)) as lat, ST_Y(CAST(location as geometry)) as lng FROM \"data_dog_lost\" \"t\" join lookup_pet_fur fur on (t.fur = fur.id) join lookup_pet_eyes eyes on (t.eyes = eyes.id) join lookup_dog_type_color type_color on (t.type_color = type_color.id) join map_dog_breed map on (t.id = map.id_dog) join lookup_dog_breed breed on (map.id_breed = breed.id) join lookup_dog_type_figured figured on (t.figured = figured.id)  WHERE (((sex = :sex) AND (date BETWEEN :dateEnd AND :dateStart)) AND (age <@ '[0.2, 1.7]'::numrange)) AND (ST_DWithin(location, ST_GeomFromText('POINT(61.403829256998 55.154184111756)',4326), :radius)) GROUP BY t.id) as x. Bound with :sex='\u043c\u0443\u0436\u0441\u043a\u043e\u0439', :dateEnd='2014-01-12', :dateStart='2015-01-12', :radius='1119'","trace","system.db.CDbCommand",1421071421.845],["Loading \"widgetFactory\" application component","trace","system.CModule",1421071421.8648]]},"profiling":{"memory":2236824,"time":0.065031051635742,"messages":[["begin:system.db.CDbCommand.query(SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef,\n\tpg_catalog.col_description(a.attrelid, a.attnum) AS comment\nFROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\nWHERE a.attnum > 0 AND NOT a.attisdropped\n\tAND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\t\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))\nORDER BY a.attnum. Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1421071421.82],["end:system.db.CDbCommand.query(SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef,\n\tpg_catalog.col_description(a.attrelid, a.attnum) AS comment\nFROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\nWHERE a.attnum > 0 AND NOT a.attisdropped\n\tAND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\t\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))\nORDER BY a.attnum. Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1421071421.8287],["begin:system.db.CDbCommand.query(SELECT conname, consrc, contype, indkey FROM (\n\tSELECT\n\t\tconname,\n\t\tCASE WHEN contype='f' THEN\n\t\t\tpg_catalog.pg_get_constraintdef(oid)\n\t\tELSE\n\t\t\t'CHECK (' || consrc || ')'\n\t\tEND AS consrc,\n\t\tcontype,\n\t\tconrelid AS relid,\n\t\tNULL AS indkey\n\tFROM\n\t\tpg_catalog.pg_constraint\n\tWHERE\n\t\tcontype IN ('f', 'c')\n\tUNION ALL\n\tSELECT\n\t\tpc.relname,\n\t\tNULL,\n\t\tCASE WHEN indisprimary THEN\n\t\t\t\t'p'\n\t\tELSE\n\t\t\t\t'u'\n\t\tEND,\n\t\tpi.indrelid,\n\t\tindkey\n\tFROM\n\t\tpg_catalog.pg_class pc,\n\t\tpg_catalog.pg_index pi\n\tWHERE\n\t\tpc.oid=pi.indexrelid\n\t\tAND EXISTS (\n\t\t\tSELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c\n\t\t\tON (d.refclassid = c.tableoid AND d.refobjid = c.oid)\n\t\t\tWHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')\n\t)\n) AS sub\nWHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace\n\tWHERE nspname=:schema)). Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1421071421.8291],["end:system.db.CDbCommand.query(SELECT conname, consrc, contype, indkey FROM (\n\tSELECT\n\t\tconname,\n\t\tCASE WHEN contype='f' THEN\n\t\t\tpg_catalog.pg_get_constraintdef(oid)\n\t\tELSE\n\t\t\t'CHECK (' || consrc || ')'\n\t\tEND AS consrc,\n\t\tcontype,\n\t\tconrelid AS relid,\n\t\tNULL AS indkey\n\tFROM\n\t\tpg_catalog.pg_constraint\n\tWHERE\n\t\tcontype IN ('f', 'c')\n\tUNION ALL\n\tSELECT\n\t\tpc.relname,\n\t\tNULL,\n\t\tCASE WHEN indisprimary THEN\n\t\t\t\t'p'\n\t\tELSE\n\t\t\t\t'u'\n\t\tEND,\n\t\tpi.indrelid,\n\t\tindkey\n\tFROM\n\t\tpg_catalog.pg_class pc,\n\t\tpg_catalog.pg_index pi\n\tWHERE\n\t\tpc.oid=pi.indexrelid\n\t\tAND EXISTS (\n\t\t\tSELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c\n\t\t\tON (d.refclassid = c.tableoid AND d.refobjid = c.oid)\n\t\t\tWHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')\n\t)\n) AS sub\nWHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace\n\tWHERE nspname=:schema)). Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1421071421.8328],["begin:system.db.CDbCommand.query(SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE\n\tattrelid=(\n\t\tSELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(\n\t\t\tSELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema\n\t\t)\n\t)\n\tAND attnum IN (3). Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1421071421.8329],["end:system.db.CDbCommand.query(SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE\n\tattrelid=(\n\t\tSELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(\n\t\t\tSELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema\n\t\t)\n\t)\n\tAND attnum IN (3). Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1421071421.8334],["begin:system.db.CDbCommand.query(SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef,\n\tpg_catalog.col_description(a.attrelid, a.attnum) AS comment\nFROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\nWHERE a.attnum > 0 AND NOT a.attisdropped\n\tAND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\t\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))\nORDER BY a.attnum. Bound with :table='data_dog_lost', :schema='public')","profile","system.db.CDbCommand.query",1421071421.834],["end:system.db.CDbCommand.query(SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef,\n\tpg_catalog.col_description(a.attrelid, a.attnum) AS comment\nFROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\nWHERE a.attnum > 0 AND NOT a.attisdropped\n\tAND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\t\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))\nORDER BY a.attnum. Bound with :table='data_dog_lost', :schema='public')","profile","system.db.CDbCommand.query",1421071421.8356],["begin:system.db.CDbCommand.query(SELECT conname, consrc, contype, indkey FROM (\n\tSELECT\n\t\tconname,\n\t\tCASE WHEN contype='f' THEN\n\t\t\tpg_catalog.pg_get_constraintdef(oid)\n\t\tELSE\n\t\t\t'CHECK (' || consrc || ')'\n\t\tEND AS consrc,\n\t\tcontype,\n\t\tconrelid AS relid,\n\t\tNULL AS indkey\n\tFROM\n\t\tpg_catalog.pg_constraint\n\tWHERE\n\t\tcontype IN ('f', 'c')\n\tUNION ALL\n\tSELECT\n\t\tpc.relname,\n\t\tNULL,\n\t\tCASE WHEN indisprimary THEN\n\t\t\t\t'p'\n\t\tELSE\n\t\t\t\t'u'\n\t\tEND,\n\t\tpi.indrelid,\n\t\tindkey\n\tFROM\n\t\tpg_catalog.pg_class pc,\n\t\tpg_catalog.pg_index pi\n\tWHERE\n\t\tpc.oid=pi.indexrelid\n\t\tAND EXISTS (\n\t\t\tSELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c\n\t\t\tON (d.refclassid = c.tableoid AND d.refobjid = c.oid)\n\t\t\tWHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')\n\t)\n) AS sub\nWHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace\n\tWHERE nspname=:schema)). Bound with :table='data_dog_lost', :schema='public')","profile","system.db.CDbCommand.query",1421071421.8361],["end:system.db.CDbCommand.query(SELECT conname, consrc, contype, indkey FROM (\n\tSELECT\n\t\tconname,\n\t\tCASE WHEN contype='f' THEN\n\t\t\tpg_catalog.pg_get_constraintdef(oid)\n\t\tELSE\n\t\t\t'CHECK (' || consrc || ')'\n\t\tEND AS consrc,\n\t\tcontype,\n\t\tconrelid AS relid,\n\t\tNULL AS indkey\n\tFROM\n\t\tpg_catalog.pg_constraint\n\tWHERE\n\t\tcontype IN ('f', 'c')\n\tUNION ALL\n\tSELECT\n\t\tpc.relname,\n\t\tNULL,\n\t\tCASE WHEN indisprimary THEN\n\t\t\t\t'p'\n\t\tELSE\n\t\t\t\t'u'\n\t\tEND,\n\t\tpi.indrelid,\n\t\tindkey\n\tFROM\n\t\tpg_catalog.pg_class pc,\n\t\tpg_catalog.pg_index pi\n\tWHERE\n\t\tpc.oid=pi.indexrelid\n\t\tAND EXISTS (\n\t\t\tSELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c\n\t\t\tON (d.refclassid = c.tableoid AND d.refobjid = c.oid)\n\t\t\tWHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')\n\t)\n) AS sub\nWHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace\n\tWHERE nspname=:schema)). Bound with :table='data_dog_lost', :schema='public')","profile","system.db.CDbCommand.query",1421071421.8387],["begin:system.db.CDbCommand.query(SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE\n\tattrelid=(\n\t\tSELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(\n\t\t\tSELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema\n\t\t)\n\t)\n\tAND attnum IN (13). Bound with :table='data_dog_lost', :schema='public')","profile","system.db.CDbCommand.query",1421071421.8389],["end:system.db.CDbCommand.query(SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE\n\tattrelid=(\n\t\tSELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(\n\t\t\tSELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema\n\t\t)\n\t)\n\tAND attnum IN (13). Bound with :table='data_dog_lost', :schema='public')","profile","system.db.CDbCommand.query",1421071421.8395],["begin:system.db.CDbCommand.query(SELECT array_to_json(array_agg(row_to_json(x)))\nFROM (SELECT t.id, t.sigma, t.sex, t.special, t.advanced, t.date, t.date_create, t.date_update, t.author,  min(fur.value) as fur, min(type_color.value) as type_color, min(eyes.value) as eyes, t.colors,  array_agg(breed.value) as breeds, pf_get_images(t.id) as images, min(figured.value) as figured, t.name, t.age, ST_X(CAST(location as geometry)) as lat, ST_Y(CAST(location as geometry)) as lng FROM \"data_dog_lost\" \"t\" join lookup_pet_fur fur on (t.fur = fur.id) join lookup_pet_eyes eyes on (t.eyes = eyes.id) join lookup_dog_type_color type_color on (t.type_color = type_color.id) join map_dog_breed map on (t.id = map.id_dog) join lookup_dog_breed breed on (map.id_breed = breed.id) join lookup_dog_type_figured figured on (t.figured = figured.id)  WHERE (((sex = :sex) AND (date BETWEEN :dateEnd AND :dateStart)) AND (age <@ '[0.2, 1.7]'::numrange)) AND (ST_DWithin(location, ST_GeomFromText('POINT(61.403829256998 55.154184111756)',4326), :radius)) GROUP BY t.id) as x. Bound with :sex='\u043c\u0443\u0436\u0441\u043a\u043e\u0439', :dateEnd='2014-01-12', :dateStart='2015-01-12', :radius='1119')","profile","system.db.CDbCommand.query",1421071421.845],["end:system.db.CDbCommand.query(SELECT array_to_json(array_agg(row_to_json(x)))\nFROM (SELECT t.id, t.sigma, t.sex, t.special, t.advanced, t.date, t.date_create, t.date_update, t.author,  min(fur.value) as fur, min(type_color.value) as type_color, min(eyes.value) as eyes, t.colors,  array_agg(breed.value) as breeds, pf_get_images(t.id) as images, min(figured.value) as figured, t.name, t.age, ST_X(CAST(location as geometry)) as lat, ST_Y(CAST(location as geometry)) as lng FROM \"data_dog_lost\" \"t\" join lookup_pet_fur fur on (t.fur = fur.id) join lookup_pet_eyes eyes on (t.eyes = eyes.id) join lookup_dog_type_color type_color on (t.type_color = type_color.id) join map_dog_breed map on (t.id = map.id_dog) join lookup_dog_breed breed on (map.id_breed = breed.id) join lookup_dog_type_figured figured on (t.figured = figured.id)  WHERE (((sex = :sex) AND (date BETWEEN :dateEnd AND :dateStart)) AND (age <@ '[0.2, 1.7]'::numrange)) AND (ST_DWithin(location, ST_GeomFromText('POINT(61.403829256998 55.154184111756)',4326), :radius)) GROUP BY t.id) as x. Bound with :sex='\u043c\u0443\u0436\u0441\u043a\u043e\u0439', :dateEnd='2014-01-12', :dateStart='2015-01-12', :radius='1119')","profile","system.db.CDbCommand.query",1421071421.8646]]},"db":{"messages":[["begin:system.db.CDbCommand.query(SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef,\n\tpg_catalog.col_description(a.attrelid, a.attnum) AS comment\nFROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\nWHERE a.attnum > 0 AND NOT a.attisdropped\n\tAND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\t\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))\nORDER BY a.attnum. Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1421071421.82],["end:system.db.CDbCommand.query(SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef,\n\tpg_catalog.col_description(a.attrelid, a.attnum) AS comment\nFROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\nWHERE a.attnum > 0 AND NOT a.attisdropped\n\tAND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\t\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))\nORDER BY a.attnum. Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1421071421.8287],["begin:system.db.CDbCommand.query(SELECT conname, consrc, contype, indkey FROM (\n\tSELECT\n\t\tconname,\n\t\tCASE WHEN contype='f' THEN\n\t\t\tpg_catalog.pg_get_constraintdef(oid)\n\t\tELSE\n\t\t\t'CHECK (' || consrc || ')'\n\t\tEND AS consrc,\n\t\tcontype,\n\t\tconrelid AS relid,\n\t\tNULL AS indkey\n\tFROM\n\t\tpg_catalog.pg_constraint\n\tWHERE\n\t\tcontype IN ('f', 'c')\n\tUNION ALL\n\tSELECT\n\t\tpc.relname,\n\t\tNULL,\n\t\tCASE WHEN indisprimary THEN\n\t\t\t\t'p'\n\t\tELSE\n\t\t\t\t'u'\n\t\tEND,\n\t\tpi.indrelid,\n\t\tindkey\n\tFROM\n\t\tpg_catalog.pg_class pc,\n\t\tpg_catalog.pg_index pi\n\tWHERE\n\t\tpc.oid=pi.indexrelid\n\t\tAND EXISTS (\n\t\t\tSELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c\n\t\t\tON (d.refclassid = c.tableoid AND d.refobjid = c.oid)\n\t\t\tWHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')\n\t)\n) AS sub\nWHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace\n\tWHERE nspname=:schema)). Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1421071421.8291],["end:system.db.CDbCommand.query(SELECT conname, consrc, contype, indkey FROM (\n\tSELECT\n\t\tconname,\n\t\tCASE WHEN contype='f' THEN\n\t\t\tpg_catalog.pg_get_constraintdef(oid)\n\t\tELSE\n\t\t\t'CHECK (' || consrc || ')'\n\t\tEND AS consrc,\n\t\tcontype,\n\t\tconrelid AS relid,\n\t\tNULL AS indkey\n\tFROM\n\t\tpg_catalog.pg_constraint\n\tWHERE\n\t\tcontype IN ('f', 'c')\n\tUNION ALL\n\tSELECT\n\t\tpc.relname,\n\t\tNULL,\n\t\tCASE WHEN indisprimary THEN\n\t\t\t\t'p'\n\t\tELSE\n\t\t\t\t'u'\n\t\tEND,\n\t\tpi.indrelid,\n\t\tindkey\n\tFROM\n\t\tpg_catalog.pg_class pc,\n\t\tpg_catalog.pg_index pi\n\tWHERE\n\t\tpc.oid=pi.indexrelid\n\t\tAND EXISTS (\n\t\t\tSELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c\n\t\t\tON (d.refclassid = c.tableoid AND d.refobjid = c.oid)\n\t\t\tWHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')\n\t)\n) AS sub\nWHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace\n\tWHERE nspname=:schema)). Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1421071421.8328],["begin:system.db.CDbCommand.query(SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE\n\tattrelid=(\n\t\tSELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(\n\t\t\tSELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema\n\t\t)\n\t)\n\tAND attnum IN (3). Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1421071421.8329],["end:system.db.CDbCommand.query(SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE\n\tattrelid=(\n\t\tSELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(\n\t\t\tSELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema\n\t\t)\n\t)\n\tAND attnum IN (3). Bound with :table='data_pet', :schema='public')","profile","system.db.CDbCommand.query",1421071421.8334],["begin:system.db.CDbCommand.query(SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef,\n\tpg_catalog.col_description(a.attrelid, a.attnum) AS comment\nFROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\nWHERE a.attnum > 0 AND NOT a.attisdropped\n\tAND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\t\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))\nORDER BY a.attnum. Bound with :table='data_dog_lost', :schema='public')","profile","system.db.CDbCommand.query",1421071421.834],["end:system.db.CDbCommand.query(SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef,\n\tpg_catalog.col_description(a.attrelid, a.attnum) AS comment\nFROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\nWHERE a.attnum > 0 AND NOT a.attisdropped\n\tAND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\t\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))\nORDER BY a.attnum. Bound with :table='data_dog_lost', :schema='public')","profile","system.db.CDbCommand.query",1421071421.8356],["begin:system.db.CDbCommand.query(SELECT conname, consrc, contype, indkey FROM (\n\tSELECT\n\t\tconname,\n\t\tCASE WHEN contype='f' THEN\n\t\t\tpg_catalog.pg_get_constraintdef(oid)\n\t\tELSE\n\t\t\t'CHECK (' || consrc || ')'\n\t\tEND AS consrc,\n\t\tcontype,\n\t\tconrelid AS relid,\n\t\tNULL AS indkey\n\tFROM\n\t\tpg_catalog.pg_constraint\n\tWHERE\n\t\tcontype IN ('f', 'c')\n\tUNION ALL\n\tSELECT\n\t\tpc.relname,\n\t\tNULL,\n\t\tCASE WHEN indisprimary THEN\n\t\t\t\t'p'\n\t\tELSE\n\t\t\t\t'u'\n\t\tEND,\n\t\tpi.indrelid,\n\t\tindkey\n\tFROM\n\t\tpg_catalog.pg_class pc,\n\t\tpg_catalog.pg_index pi\n\tWHERE\n\t\tpc.oid=pi.indexrelid\n\t\tAND EXISTS (\n\t\t\tSELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c\n\t\t\tON (d.refclassid = c.tableoid AND d.refobjid = c.oid)\n\t\t\tWHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')\n\t)\n) AS sub\nWHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace\n\tWHERE nspname=:schema)). Bound with :table='data_dog_lost', :schema='public')","profile","system.db.CDbCommand.query",1421071421.8361],["end:system.db.CDbCommand.query(SELECT conname, consrc, contype, indkey FROM (\n\tSELECT\n\t\tconname,\n\t\tCASE WHEN contype='f' THEN\n\t\t\tpg_catalog.pg_get_constraintdef(oid)\n\t\tELSE\n\t\t\t'CHECK (' || consrc || ')'\n\t\tEND AS consrc,\n\t\tcontype,\n\t\tconrelid AS relid,\n\t\tNULL AS indkey\n\tFROM\n\t\tpg_catalog.pg_constraint\n\tWHERE\n\t\tcontype IN ('f', 'c')\n\tUNION ALL\n\tSELECT\n\t\tpc.relname,\n\t\tNULL,\n\t\tCASE WHEN indisprimary THEN\n\t\t\t\t'p'\n\t\tELSE\n\t\t\t\t'u'\n\t\tEND,\n\t\tpi.indrelid,\n\t\tindkey\n\tFROM\n\t\tpg_catalog.pg_class pc,\n\t\tpg_catalog.pg_index pi\n\tWHERE\n\t\tpc.oid=pi.indexrelid\n\t\tAND EXISTS (\n\t\t\tSELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c\n\t\t\tON (d.refclassid = c.tableoid AND d.refobjid = c.oid)\n\t\t\tWHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')\n\t)\n) AS sub\nWHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table\n\tAND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace\n\tWHERE nspname=:schema)). Bound with :table='data_dog_lost', :schema='public')","profile","system.db.CDbCommand.query",1421071421.8387],["begin:system.db.CDbCommand.query(SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE\n\tattrelid=(\n\t\tSELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(\n\t\t\tSELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema\n\t\t)\n\t)\n\tAND attnum IN (13). Bound with :table='data_dog_lost', :schema='public')","profile","system.db.CDbCommand.query",1421071421.8389],["end:system.db.CDbCommand.query(SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE\n\tattrelid=(\n\t\tSELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(\n\t\t\tSELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema\n\t\t)\n\t)\n\tAND attnum IN (13). Bound with :table='data_dog_lost', :schema='public')","profile","system.db.CDbCommand.query",1421071421.8395],["begin:system.db.CDbCommand.query(SELECT array_to_json(array_agg(row_to_json(x)))\nFROM (SELECT t.id, t.sigma, t.sex, t.special, t.advanced, t.date, t.date_create, t.date_update, t.author,  min(fur.value) as fur, min(type_color.value) as type_color, min(eyes.value) as eyes, t.colors,  array_agg(breed.value) as breeds, pf_get_images(t.id) as images, min(figured.value) as figured, t.name, t.age, ST_X(CAST(location as geometry)) as lat, ST_Y(CAST(location as geometry)) as lng FROM \"data_dog_lost\" \"t\" join lookup_pet_fur fur on (t.fur = fur.id) join lookup_pet_eyes eyes on (t.eyes = eyes.id) join lookup_dog_type_color type_color on (t.type_color = type_color.id) join map_dog_breed map on (t.id = map.id_dog) join lookup_dog_breed breed on (map.id_breed = breed.id) join lookup_dog_type_figured figured on (t.figured = figured.id)  WHERE (((sex = :sex) AND (date BETWEEN :dateEnd AND :dateStart)) AND (age <@ '[0.2, 1.7]'::numrange)) AND (ST_DWithin(location, ST_GeomFromText('POINT(61.403829256998 55.154184111756)',4326), :radius)) GROUP BY t.id) as x. Bound with :sex='\u043c\u0443\u0436\u0441\u043a\u043e\u0439', :dateEnd='2014-01-12', :dateStart='2015-01-12', :radius='1119')","profile","system.db.CDbCommand.query",1421071421.845],["end:system.db.CDbCommand.query(SELECT array_to_json(array_agg(row_to_json(x)))\nFROM (SELECT t.id, t.sigma, t.sex, t.special, t.advanced, t.date, t.date_create, t.date_update, t.author,  min(fur.value) as fur, min(type_color.value) as type_color, min(eyes.value) as eyes, t.colors,  array_agg(breed.value) as breeds, pf_get_images(t.id) as images, min(figured.value) as figured, t.name, t.age, ST_X(CAST(location as geometry)) as lat, ST_Y(CAST(location as geometry)) as lng FROM \"data_dog_lost\" \"t\" join lookup_pet_fur fur on (t.fur = fur.id) join lookup_pet_eyes eyes on (t.eyes = eyes.id) join lookup_dog_type_color type_color on (t.type_color = type_color.id) join map_dog_breed map on (t.id = map.id_dog) join lookup_dog_breed breed on (map.id_breed = breed.id) join lookup_dog_type_figured figured on (t.figured = figured.id)  WHERE (((sex = :sex) AND (date BETWEEN :dateEnd AND :dateStart)) AND (age <@ '[0.2, 1.7]'::numrange)) AND (ST_DWithin(location, ST_GeomFromText('POINT(61.403829256998 55.154184111756)',4326), :radius)) GROUP BY t.id) as x. Bound with :sex='\u043c\u0443\u0436\u0441\u043a\u043e\u0439', :dateEnd='2014-01-12', :dateStart='2015-01-12', :radius='1119')","profile","system.db.CDbCommand.query",1421071421.8646]],"connections":{"db":{"class":"CDbConnection","driver":"pgsql","server":"9.3.5","info":"PID: 15681; Client Encoding: UTF8; Is Superuser: on; Session Authorization: whirpl; Date Style: ISO, DMY"}}},"summary":{"tag":"54b3d43dc3dac","url":"http:\/\/staytogether.ru\/api\/pet\/search?ageMax=1.7&ageMin=0.2&date=12-01-2015&lat=61.40382925699803&lng=55.15418411175584&pet=2&radius=1119&sex=%D0%BC%D1%83%D0%B6%D1%81%D0%BA%D0%BE%D0%B9&status=2","ajax":false,"method":"GET","code":200,"ip":"127.0.0.1","time":1421071421}}